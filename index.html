
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Object Hunting</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

/* Toolbar */
.toolbar {
  padding: 10px;
  background: #f0f0f0;
  text-align: center;
}

button {
  border-radius: 20%;
  padding: 10px 15px;
  margin: 5px;
  font-size: 16px;
}

/* Canvas wrapper (for zoom) */
#canvasWrapper {
  width: 100%;
  height: 50%;
  overflow: auto;      
  touch-action: pan-x pan-y; 
}

/* Canvas */
canvas {
  width: 100%;
  height: 100%;
  background-color: cyan;
  border: 1px solid #000;
  transform-origin: center center;
}
</style>
</head>

<body>

<div class="toolbar">
  <button onclick="setTool('pen')">âœï¸ Pen</button>
  <button onclick="setTool('eraser')">ğŸ§½ Eraser</button>
  <button onclick="clearCanvas()">ğŸ—‘ï¸ Clear</button>
  <button onclick="img1()">IMAGE 1</button>
  <button onclick="img2()">IMAGE 2</button>
</div>

<div id="canvasWrapper" style="height:60%">
  <canvas id="canvas"></canvas>
</div>
<br><br>
<footer style="background-color:yellow;font-size:40px;font-family:'Monotype Corsiva';text-align:center;">
  <marquee>excelsior!!!</marquee>
</footer>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

let drawing = false;
let tool = "pen";
let scale = 1;
let lastDist = null;

/* Resize canvas properly */
function resizeCanvas() {
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width;
  canvas.height = rect.height;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

/* Tool selector */
function setTool(t) {
  tool = t;
}

/* Get mouse/touch position */
function getPosition(e) {
  const rect = canvas.getBoundingClientRect();
  const touch = e.touches ? e.touches[0] : e;
  return {
    x: (touch.clientX - rect.left) / scale,
    y: (touch.clientY - rect.top) / scale
  };
}

/* Drawing */
function startDraw(e) {
  drawing = true;
  const pos = getPosition(e);
  ctx.beginPath();
  ctx.moveTo(pos.x, pos.y);
}

function draw(e) {
  if (!drawing) return;
  const pos = getPosition(e);

  ctx.lineCap = "round";
  ctx.lineWidth = tool === "eraser" ? 25 : 5;

  if (tool === "eraser") {
    ctx.globalCompositeOperation = "destination-out";
  } else {
    ctx.globalCompositeOperation = "source-over";
    ctx.strokeStyle = "yellow";
  }

  ctx.lineTo(pos.x, pos.y);
  ctx.stroke();
}

function stopDraw() {
  drawing = false;
  ctx.closePath();
}

/* Mouse events */
canvas.addEventListener("mousedown", startDraw);
canvas.addEventListener("mousemove", draw);
canvas.addEventListener("mouseup", stopDraw);
canvas.addEventListener("mouseleave", stopDraw);

/* Touch events */
canvas.addEventListener("touchstart", e => {
  if (e.touches.length === 1) {
    startDraw(e);
  }
});

canvas.addEventListener("touchmove", e => {
  if (e.touches.length === 1) {
    e.preventDefault();
    draw(e);
  } else if (e.touches.length === 2) {
    pinchZoom(e);
  }
});

canvas.addEventListener("touchend", stopDraw);

/* Clear */
function clearCanvas() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
}

/* Background images */
function img1() {
  canvas.style.backgroundImage = "url(https://i.imgur.com/xusu1Rt.jpeg)";
  canvas.style.backgroundSize = "100% 100%";
}
function img2() {
  canvas.style.backgroundImage = "url(https://i.imgur.com/s5XgBE5.jpeg)";
  canvas.style.backgroundSize = "100% 100%";
}

/* ğŸ” PINCH TO ZOOM */
function pinchZoom(e) {
  e.preventDefault();

  const dx = e.touches[0].clientX - e.touches[1].clientX;
  const dy = e.touches[0].clientY - e.touches[1].clientY;
  const dist = Math.sqrt(dx * dx + dy * dy);

  if (!lastDist) {
    lastDist = dist;
    return;
  }

  const zoomFactor = dist / lastDist;
 scale *= zoomFactor;
  scale = Math.min(Math.max(scale, 1), 4);


  canvas.style.width = `${scale * 100}%`;
  canvas.style.height = `${scale * 100}%`;

  lastDist = dist;
}

canvas.addEventListener("touchend", () => lastDist = null);
</script>


</body>
</html>
